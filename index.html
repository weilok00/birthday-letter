<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>To Hui Wen</title>
<style>
  :root{--bg:#0b1220;--card:#071022;--accent:#ffd89b;--text:#e6eef8;}
  html,body{
    height:100%;margin:0;
    background: linear-gradient(180deg, #ffd6e8 0%, #ffe6cc 100%);
    color: #1f1f3a;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    color: #3b246b;overflow:hidden;
  }
  .wrap{
    height:100%;
    display:flex;align-items:center;justify-content:center;flex-direction:column;gap:18px;
    padding:16px; 
  }
  .envelope{
    --env-w: min(500px, 92vw);  
    width: var(--env-w);
    height: calc(var(--env-w) * 0.68); 
    position:relative;cursor:pointer;perspective:1200px;
  }
  .env-body{position:absolute;inset:0;background:linear-gradient(180deg,#f7d9ff,#e0bbff); border:1px solid rgba(0,0,0,0.05);}
  .env-flap{
    position:absolute;top:0;left:0;right:0;height:55%;
    background:#f5ecff;
    transform-origin:top center;border-bottom-left-radius:100px;border-bottom-right-radius:100px;
    transition:transform .8s cubic-bezier(.2,.9,.3,1);
  }
  .seal{
    position:absolute;top:40%;left:50%;transform:translateX(-50%);
    background:radial-gradient(circle,#ffd6e8,#f2b6c8); color:#4a2b2b;
    border-radius:50%;width:100px;height:100px;
    display:flex;align-items:center;justify-content:center;color: #3b246b;;font-weight:700;
    font-size:20px; text-align:center;
  }
  .open .env-flap{transform:rotateX(-180deg);}
  .hint{font-size:16px;color:#4b3b85;}
</style>
</head>
<body>
  <div class="wrap">
    <div class="envelope" id="envelope">
      <div class="env-body"></div>
      <div class="env-flap"></div>
      <div class="seal">To:<br>Hui Wen</div>
    </div>
    <div class="hint">点一下信封即可打开</div>
  </div>

  
<audio id="bgm" src="./https://github.com/weilok00/birthday-letter/blob/main/audio/canon.mp3" preload="auto" loop></audio>

<script>
  const env = document.getElementById('envelope');
  const bgm = document.getElementById('bgm');

  env.addEventListener('click', async () => {
    sessionStorage.setItem('bgmShouldPlay', '1');
    sessionStorage.setItem('bgmTime', '0');

    try { await bgm.play(); } catch(e) {}

    env.classList.add('open');
    setTimeout(()=>{ location.href='wish.html'; }, 900); 
  });
</script>

</body>
</html>
